<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <title>OTP</title>
  <th:block th:replace="layout :: link-css"></th:block>
</head>
<body>
<th:block th:replace="layout :: topbar"></th:block>
<th:block th:replace="layout :: header"></th:block>
<!-- Page Header Start -->
<div class="container-fluid bg-secondary mb-5">
  <div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 300px">
    <h1 class="font-weight-semi-bold text-uppercase mb-3">New Password</h1>
    <div class="d-inline-flex">
      <p class="m-0"><a href="/login">Login</a></p>
      <p class="m-0 px-2">-</p>
      <p class="m-0">New Password</p>
    </div>
  </div>
</div>
<!-- Page Header End -->
  <div class="container">
    <div class="row" style="margin: 20px 0;display: flex;justify-content: center;">
      <form th:action="@{/forget-password/change-password/form}" method="post" class="forget__form" id="passwordForm">
        <input class="forget__form__password" type="password" id="newPassword" placeholder="New Password" autofocus required name="password">
        <input class="forget__form__confirm" type="password" id="confirmPassword" placeholder="Confirm Password" required>
        <span id="passwordError" style="color: red; margin-bottom: 10px;"></span>
        <button type="submit" id="submitButton" disabled>Change Password</button>
      </form>
    </div>
  </div>
  <th:block th:replace="layout :: footer"></th:block>
  <script>
        const newPasswordInput = document.getElementById('newPassword');
        const confirmPasswordInput = document.getElementById('confirmPassword');
        const passwordError = document.getElementById('passwordError');
        const submitButton = document.getElementById('submitButton');

        confirmPasswordInput.addEventListener('input', () => {
            const newPassword = newPasswordInput.value;
            const confirmPassword = confirmPasswordInput.value;

            if (newPassword === confirmPassword) {
                passwordError.textContent = '';
                submitButton.disabled = false;
            } else {
                passwordError.textContent = 'Wrong Password';
                submitButton.disabled = true;
            }
        });
  </script>
</body>
</html>